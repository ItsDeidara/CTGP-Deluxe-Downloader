import parseAuthor from 'parse-author';
import { readFileSync } from 'node:fs';
export function patchNACP(nacp, packageJsonUrl) {
    const packageJsonStr = readFileSync(packageJsonUrl, 'utf8');
    const packageJson = JSON.parse(packageJsonStr);
    const { titleId, name, productName, version, author: rawAuthor, } = packageJson;
    const author = typeof rawAuthor === 'string' ? parseAuthor(rawAuthor) : rawAuthor;
    if (titleId)
        nacp.id = titleId;
    const title = productName || name;
    if (title)
        nacp.title = title;
    if (version)
        nacp.version = version;
    if (author?.name)
        nacp.author = author.name;
}
//# sourceMappingURL=index.js.map